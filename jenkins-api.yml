swagger: '2.0'
info:
  title: Swaggy Jenkins
  description: Jenkins remote access API
  version: "0.0.1"
  contact:
    name: Cliffano Subagio
    url: http://github.com/cliffano/swaggy-jenkins
    email: blah@cliffano.com
schemes:
  - http
  - https
basePath: /
securityDefinitions:
  jenkins_auth:
    type: basic
paths:
  /:
    head:
      description: Retrieve version header
      operationId: headVersion
      responses:
        200:
          description: Successfully retrieved version
          headers:
            x-jenkins:
              type: string
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
      tags:
        - remoteAccess
  /api/json:
    get:
      description: Get info
      operationId: getInfo
      produces:
        - application/json
      responses:
        200:
          description: Successfully get info
          schema:
            $ref: "#/definitions/hudsonmodelHudson"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
      tags:
        - remoteAccess
  /computer/api/json?depth=1:
    get:
      description: Get computer
      operationId: getComputer
      produces:
        - application/json
      responses:
        200:
          description: Successfully get computer
          schema:
            $ref: "#/definitions/hudsonmodelComputerSet"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
      tags:
        - remoteAccess
  /createItem:
    post:
      description: Post item creation
      operationId: postCreateItem
      produces:
        - text/html
      parameters:
        - name: name
          in: query
          required: true
          type: string
        - name: from
          in: query
          required: false
          type: string
        - name: mode
          in: query
          required: false
          type: string
        - name: body
          in: body
          required: false
          schema:
            type: string
        - name: Jenkins-Crumb
          in: header
          required: false
          type: string
        - name: Content-Type
          in: header
          required: false
          type: string
      responses:
        200:
          description: Successfully post item
        400:
          $ref: "#/responses/errorinhtml"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
      tags:
        - remoteAccess
  /crumbIssuer/api/json:
    get:
      description: Get crumb
      operationId: getCrumb
      produces:
        - application/json
      responses:
        200:
          description: Successfully get crumb
          schema:
            $ref: "#/definitions/hudsonsecuritycsrfDefaultCrumbIssuer"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
      tags:
        - remoteAccess
  /job/{name}/api/json:
    get:
      description: Get job
      operationId: getJob
      produces:
        - application/json
      parameters:
        - name: name
          in: path
          required: true
          type: string
      responses:
        200:
          description: Successfully get job
          schema:
            $ref: "#/definitions/hudsonmodelFreeStyleProject"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/build:
    post:
      description: Build a job
      operationId: postJobBuild
      parameters:
        - name: name
          in: path
          required: true
          type: string
        - name: json
          in: query
          required: true
          type: string
        - name: token
          in: query
          required: false
          type: string
        - name: Jenkins-Crumb
          in: header
          required: false
          type: string
      responses:
        200:
          description: Successfully build a job (backward compatibility old job)
        201:
          description: Successfully build a job
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/config.xml:
    get:
      description: Fetch a job configuration config.xml
      operationId: getJobConfig
      produces:
        - text/xml
      parameters:
        - name: name
          in: path
          required: true
          type: string
      responses:
        200:
          description: Successfully get job config
          schema:
            type: string
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
    post:
      description: Update job config.xml
      operationId: postJobConfig
      produces:
        - text/xml
      parameters:
        - name: name
          in: path
          required: true
          type: string
        - name: body
          in: body
          required: true
          schema:
            type: string
        - name: Jenkins-Crumb
          in: header
          required: false
          type: string
      responses:
        200:
          description: Successfully update job config
        400:
          $ref: "#/responses/errorinhtml"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/doDelete:
    post:
      description: Delete job
      operationId: postJobDelete
      parameters:
        - name: name
          in: path
          required: true
          type: string
        - name: Jenkins-Crumb
          in: header
          required: false
          type: string
      responses:
        200:
          description: Successfully update job config
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/disable:
    post:
      description: Disable a job
      operationId: postJobDisable
      parameters:
        - name: name
          in: path
          required: true
          type: string
        - name: Jenkins-Crumb
          in: header
          required: false
          type: string
      responses:
        200:
          description: Successfully disable a job
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/enable:
    post:
      description: Enable a job
      operationId: postJobEnable
      parameters:
        - name: name
          in: path
          required: true
          type: string
        - name: Jenkins-Crumb
          in: header
          required: false
          type: string
      responses:
        200:
          description: Successfully enable a job
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/lastBuild/api/json:
    get:
      description: Get job last build
      operationId: getJobLastBuild
      produces:
        - application/json
      parameters:
        - name: name
          in: path
          required: true
          type: string
      responses:
        200:
          description: Successfully get job last build
          schema:
            $ref: "#/definitions/hudsonmodelFreeStyleBuild"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/lastBuild/stop:
    post:
      description: Stop a running/building job
      operationId: postJobLastBuildStop
      parameters:
        - name: name
          in: path
          required: true
          type: string
        - name: Jenkins-Crumb
          in: header
          required: false
          type: string
      responses:
        200:
          description: Successfully stop a running/building job
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /job/{name}/{number}/logText/progressiveText:
    get:
      description: Get a job's console progressive text
      operationId: getJobProgressiveText
      parameters:
        - name: name
          in: path
          required: true
          type: string
        - name: number
          in: path
          required: true
          type: string
        - name: start
          in: query
          required: true
          type: string
      responses:
        200:
          description: Successfully stop a running/building job
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
        404:
          $ref: "#/responses/jobnotexist"
      tags:
        - remoteAccess
  /queue/api/json:
    get:
      description: Get queue
      operationId: getQueue
      produces:
        - application/json
      responses:
        200:
          description: Successfully get queue
          schema:
            $ref: "#/definitions/hudsonmodelQueue"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
      tags:
        - remoteAccess
  /queue/item/{number}/api/json:
    get:
      description: Get queued item details
      operationId: getQueueItem
      produces:
        - application/json
      parameters:
        - name: number
          in: path
          required: true
          type: string
      responses:
        200:
          description: Successfully get queue item
          schema:
            $ref: "#/definitions/hudsonmodelQueue"
        401:
          $ref: "#/responses/unauthorized"
        403:
          $ref: "#/responses/forbidden"
      tags:
        - remoteAccess
responses:
  unauthorized:
    description: Authentication failed - incorrect username and/or password
  forbidden:
    description: Jenkins requires authentication - please set username and password
  jobnotexist:
    description: Job {name} does not exist
  errorinhtml:
    description: An error has occurred (Bad Request)
    schema:
      type: string
definitions:
  hudsonmodelFreeStyleBuild:
    type: object
    properties:
      _class:
        type: string
      number:
        type: integer
      url:
        type: string
      actions:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelCauseAction'
      building:
        type: boolean
      description:
        type: string
      displayName:
        type: string
      duration:
        type: integer
      estimatedDuration:
        type: integer
      executor:
        type: string
      fullDisplayName:
        type: string
      id:
        type: string
      keepLog:
        type: boolean
      queueId:
        type: integer
      result:
        type: string
      timestamp:
        type: integer
      builtOn:
        type: string
      changeSet:
        $ref: '#/definitions/hudsonscmEmptyChangeLogSet'
  hudsonmodelHudsonMasterComputerexecutors:
    type: object
    properties:
      currentExecutable:
        $ref: '#/definitions/hudsonmodelFreeStyleBuild'
      idle:
        type: boolean
      likelyStuck:
        type: boolean
      number:
        type: integer
      progress:
        type: integer
      _class:
        type: string
  hudsonmodelLabel1:
    type: object
    properties:
      _class:
        type: string
  hudsonnode_monitorsSwapSpaceMonitorMemoryUsage2:
    type: object
    properties:
      _class:
        type: string
      availablePhysicalMemory:
        type: integer
      availableSwapSpace:
        type: integer
      totalPhysicalMemory:
        type: integer
      totalSwapSpace:
        type: integer
  hudsonnode_monitorsDiskSpaceMonitorDescriptorDiskSpace:
    type: object
    properties:
      _class:
        type: string
      timestamp:
        type: integer
      path:
        type: string
      size:
        type: integer
  hudsonnode_monitorsResponseTimeMonitorData:
    type: object
    properties:
      _class:
        type: string
      timestamp:
        type: integer
      average:
        type: integer
  hudsonutilClockDifference:
    type: object
    properties:
      _class:
        type: string
      diff:
        type: integer
  hudsonmodelHudsonMasterComputer_monitorData:
    type: object
    properties:
      hudson.node_monitors.SwapSpaceMonitor:
        $ref: '#/definitions/hudsonnode_monitorsSwapSpaceMonitorMemoryUsage2'
      hudson.node_monitors.TemporarySpaceMonitor:
        $ref: '#/definitions/hudsonnode_monitorsDiskSpaceMonitorDescriptorDiskSpace'
      hudson.node_monitors.DiskSpaceMonitor:
        $ref: '#/definitions/hudsonnode_monitorsDiskSpaceMonitorDescriptorDiskSpace'
      hudson.node_monitors.ArchitectureMonitor:
        type: string
      hudson.node_monitors.ResponseTimeMonitor:
        $ref: '#/definitions/hudsonnode_monitorsResponseTimeMonitorData'
      hudson.node_monitors.ClockMonitor:
        $ref: '#/definitions/hudsonutilClockDifference'
      _class:
        type: string
  hudsonmodelHudsonMasterComputer:
    type: object
    properties:
      _class:
        type: string
      displayName:
        type: string
      executors:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelHudsonMasterComputerexecutors'
      icon:
        type: string
      iconClassName:
        type: string
      idle:
        type: boolean
      jnlpAgent:
        type: boolean
      launchSupported:
        type: boolean
      loadStatistics:
        $ref: '#/definitions/hudsonmodelLabel1'
      manualLaunchAllowed:
        type: boolean
      monitorData:
        $ref: '#/definitions/hudsonmodelHudsonMasterComputer_monitorData'
      numExecutors:
        type: integer
      offline:
        type: boolean
      offlineCause:
        type: string
      offlineCauseReason:
        type: string
      temporarilyOffline:
        type: boolean
  hudsonmodelComputerSet:
    type: object
    properties:
      _class:
        type: string
      busyExecutors:
        type: integer
      computer:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelHudsonMasterComputer'
      displayName:
        type: string
      totalExecutors:
        type: integer
  hudsonsecuritycsrfDefaultCrumbIssuer:
    type: object
    properties:
      _class:
        type: string
      crumb:
        type: string
      crumbRequestField:
        type: string
  hudsonmodelHudsonassignedLabels:
    type: object
    properties:
      _class:
        type: string
  hudsonmodelFreeStyleProject:
    type: object
    properties:
      _class:
        type: string
      name:
        type: string
      url:
        type: string
      color:
        type: string
      actions:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelFreeStyleProjectactions'
      description:
        type: string
      displayName:
        type: string
      displayNameOrNull:
        type: string
      fullDisplayName:
        type: string
      fullName:
        type: string
      buildable:
        type: boolean
      builds:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelFreeStyleBuild'
      firstBuild:
        $ref: '#/definitions/hudsonmodelFreeStyleBuild'
      healthReport:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelFreeStyleProjecthealthReport'
      inQueue:
        type: boolean
      keepDependencies:
        type: boolean
      lastBuild:
        $ref: '#/definitions/hudsonmodelFreeStyleBuild'
      lastCompletedBuild:
        $ref: '#/definitions/hudsonmodelFreeStyleBuild'
      lastFailedBuild:
        type: string
      lastStableBuild:
        $ref: '#/definitions/hudsonmodelFreeStyleBuild'
      lastSuccessfulBuild:
        $ref: '#/definitions/hudsonmodelFreeStyleBuild'
      lastUnstableBuild:
        type: string
      lastUnsuccessfulBuild:
        type: string
      nextBuildNumber:
        type: integer
      queueItem:
        type: string
      concurrentBuild:
        type: boolean
      scm:
        $ref: '#/definitions/hudsonscmNullSCM'
  hudsonmodelAllView:
    type: object
    properties:
      _class:
        type: string
      name:
        type: string
      url:
        type: string
  jenkinsmodelUnlabeledLoadStatistics:
    type: object
    properties:
      _class:
        type: string
  hudsonmodelHudson:
    type: object
    properties:
      _class:
        type: string
      assignedLabels:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelHudsonassignedLabels'
      mode:
        type: string
      nodeDescription:
        type: string
      nodeName:
        type: string
      numExecutors:
        type: integer
      description:
        type: string
      jobs:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelFreeStyleProject'
      primaryView:
        $ref: '#/definitions/hudsonmodelAllView'
      quietingDown:
        type: boolean
      slaveAgentPort:
        type: integer
      unlabeledLoad:
        $ref: '#/definitions/jenkinsmodelUnlabeledLoadStatistics'
      useCrumbs:
        type: boolean
      useSecurity:
        type: boolean
      views:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelAllView'
  hudsonmodelFreeStyleProjectactions:
    type: object
    properties:
      _class:
        type: string
  hudsonmodelFreeStyleProjecthealthReport:
    type: object
    properties:
      description:
        type: string
      iconClassName:
        type: string
      iconUrl:
        type: string
      score:
        type: integer
      _class:
        type: string
  hudsonscmNullSCM:
    type: object
    properties:
      _class:
        type: string
  hudsonmodelCauseUserIdCause:
    type: object
    properties:
      _class:
        type: string
      shortDescription:
        type: string
      userId:
        type: string
      userName:
        type: string
  hudsonmodelCauseAction:
    type: object
    properties:
      _class:
        type: string
      causes:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelCauseUserIdCause'
  hudsonscmEmptyChangeLogSet:
    type: object
    properties:
      _class:
        type: string
      kind:
        type: string
  hudsonmodelQueueBlockedItem:
    type: object
    properties:
      _class:
        type: string
      actions:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelCauseAction'
      blocked:
        type: boolean
      buildable:
        type: boolean
      id:
        type: integer
      inQueueSince:
        type: integer
      params:
        type: string
      stuck:
        type: boolean
      task:
        $ref: '#/definitions/hudsonmodelFreeStyleProject'
      url:
        type: string
      why:
        type: string
      buildableStartMilliseconds:
        type: integer
  hudsonmodelQueue:
    type: object
    properties:
      _class:
        type: string
      items:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelQueueBlockedItem'
  hudsonmodelQueueLeftItem:
    type: object
    properties:
      _class:
        type: string
      actions:
        type: array
        items:
          $ref: '#/definitions/hudsonmodelCauseAction'
      blocked:
        type: boolean
      buildable:
        type: boolean
      id:
        type: integer
      inQueueSince:
        type: integer
      params:
        type: string
      stuck:
        type: boolean
      task:
        $ref: '#/definitions/hudsonmodelFreeStyleProject'
      url:
        type: string
      why:
        type: string
      cancelled:
        type: boolean
      executable:
        $ref: '#/definitions/hudsonmodelFreeStyleBuild'
